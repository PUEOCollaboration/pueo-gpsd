echo Start UBX config script

# export UBXOPTS="::/dev/ttyAMA0"
#set up verbosity level
export UBXOPTS="-v 2"

#display ubxtool version
ubxtool -V
#disable NMEA
ubxtool -d NMEA
#disable GLONASS
ubxtool -d GLONASS
#disable PPS
ubxtool -d PPS

#disable UBX_NAV_POSECEF
ubxtool -c 0x06,0x01,0x01,0x01,0,0,0,0,0,0
#disable UBX_NAV_POSLLH
ubxtool -c 0x06,0x01,0x01,0x02,0,0,0,0,0,0
#disable UBX_NAV_STATUS
ubxtool -c 0x06,0x01,0x01,0x03,0,0,0,0,0,0
#disable UBX_NAV_DOP
ubxtool -c 0x06,0x01,0x01,0x04,0,0,0,0,0,0
#disable UBX_NAV_SOL
ubxtool -c 0x06,0x01,0x01,0x06,0,0,0,0,0,0
#disable UBX_NAV_PVT
ubxtool -c 0x06,0x01,0x01,0x07,0,0,0,0,0,0
#disable UBX_NAV_ODO
ubxtool -c 0x06,0x01,0x01,0x09,0,0,0,0,0,0
#disable UBX_NAV_VELECEF
ubxtool -c 0x06,0x01,0x01,0x11,0,0,0,0,0,0
#disable UBX_NAV_VELNED
ubxtool -c 0x06,0x01,0x01,0x12,0,0,0,0,0,0
#disable UBX_NAV_TIMEGPS
#ubxtool -c 0x06,0x01,0x01,0x20,0,0,0,0,0,0
#disable UBX_NAV_TIMEUTC
ubxtool -c 0x06,0x01,0x01,0x21,0,0,0,0,0,0
#disable UBX_NAV_CLOCK
ubxtool -c 0x06,0x01,0x01,0x22,0,0,0,0,0,0
#disable UBX_NAV_TIMEGLO
ubxtool -c 0x06,0x01,0x01,0x23,0,0,0,0,0,0
#disable UBX_NAV_TIMEBDS
ubxtool -c 0x06,0x01,0x01,0x24,0,0,0,0,0,0
#disable UBX_NAV_TIMEGAL
ubxtool -c 0x06,0x01,0x01,0x25,0,0,0,0,0,0
#disable UBX_NAV_TIMELS
ubxtool -c 0x06,0x01,0x01,0x26,0,0,0,0,0,0
#disable UBX_NAV_SVINFO
ubxtool -c 0x06,0x01,0x01,0x30,0,0,0,0,0,0
#disable UBX_NAV_DGPS
ubxtool -c 0x06,0x01,0x01,0x31,0,0,0,0,0,0
#disable UBX_NAV_SBAS
ubxtool -c 0x06,0x01,0x01,0x32,0,0,0,0,0,0
#disable UBX_NAV_ORB
ubxtool -c 0x06,0x01,0x01,0x34,0,0,0,0,0,0
#disable UBX_NAV_SAT
ubxtool -c 0x06,0x01,0x01,0x35,0,0,0,0,0,0
#disable UBX_NAV_GEOFENCE
ubxtool -c 0x06,0x01,0x01,0x39,0,0,0,0,0,0
#disable UBX_NAV_AOPSTATUS
ubxtool -c 0x06,0x01,0x01,0x60,0,0,0,0,0,0
#disable UBX_NAV_EOE
ubxtool -c 0x06,0x01,0x01,0x61,0,0,0,0,0,0

#disable all INF messages
ubxtool -c 0x06,0x02,0,0,0,0,0x00,0x00,0x00,0x00,0x00,0x00

#enable autonomous AssitNow, set initial fix as 3D
ubxtool -c 0x06,0x23,0x02,0,0x40,0x40,0,0,0,0,0,0,0,0,0,0,0x01,0,0,0,0,0,0,0,0,0,0,0,0,0x01,0,0,0,0x64,0,0,0,0,0,0,0,0

#setup super E-mode 1Hz aggressive
ubxtool -c 0x06,0x86,0,0x03,0,0,0,0,0,0
#enable power save mode on CFG-RXM
ubxtool -c 0x06,0x11,0,0x01

#ERASE log and disable logger
ubxtool -p LOG-ERASE -v 2

##configure batching solution: ##
#flags >> pioActiveLow,pioEn,extraPvt,Enable
#buff size >> 150 = 0x96
#fill level trigger >> 144 = 0x90
#pio output >> pio14 = 0xE

#ubxtool -c 0x06,0x93,0,0x65,0x96,0,0x90,0,0xE,0
##configuration without PIO output
ubxtool -c 0x06,0x93,0,0x05,0x96,0,0x90,0,0x0,0

##configure LOGFILTER
#flags >> recorEnabled, applyAllFilters
#minInterval >> 120s=0x78
#timeThd >> 300s=0x12C
#speedThd >> None=0
#distanceThd >> 500m=0x1F4
ubxtool -c 0x06,0x47,0x01,0x05,0x78,0x00,0x2C,0x01,0,0,0xF4,0x01,0,0

#CREATELOG and start logger
ubxtool -p LOG-CREATE -v 2

echo UBX config complete
